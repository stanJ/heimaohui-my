(function(B,b,C){if(b&&b.views||B.jsviews){return}var j="v1.0.0-beta",ak,an,i,ax,aA,ag="{",af="{",Q="}",P="}",aj="^",x=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,V=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*\.|\s*\^|\s*$)|[)\]])([([]?))|(\s+)/g,aq=/[ \t]*(\r\n|\n|\r)/g,A=/\\(['"])/g,az=/['"\\]/g,ae=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,Y=/^if\s/,G=/<(\w+)[>\s]/,ar=/[\x00`><"'&]/g,I=/[\x00`><\"'&]/,m=/^on[A-Z]|^convert(Back)?$/,R=ar,O=0,u=0,e={"&":"&amp;","<":"&lt;",">":"&gt;","\x00":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;"},ai="html",T="data-jsv-tmpl",h={},ab={template:{compile:y},tag:{compile:c},helper:{},converter:{}},k={jsviews:j,settings:function(aB){w(q,aB);am(q._dbgMode);if(q.jsv){q.jsv()}},sub:{View:au,Err:S,tmplFn:v,cvt:o,parse:U,extend:w,syntaxErr:K,DataMap:at},_cnvt:a,_tag:Z,_err:ad};function ah(aB){return aB}function E(aB){;return aB}function am(aB){q._dbgMode=aB;aA=aB?"Unavailable (nested view): use #getIndex()":"";ao("dbg",H.dbg=aw.dbg=aB?E:ah)}function at(aB){return{getTgt:aB,map:function(aD){var aF,aE,aC=this;if(aC.src!==aD){if(aC.src){aC.unmap()}if(typeof aD==="object"){aE=aB.apply(aC,arguments);aC.src=aD;aC.tgt=aE}}}}}function S(aB){this.name=(ak.link?"JsViews":"JsRender")+" Error";this.message=aB||this.name}function w(aD,aC){var aB;aD=aD||{};for(aB in aC){aD[aB]=aC[aB]}return aD}function d(aB){return typeof aB==="function"}(S.prototype=new Error()).constructor=S;function J(aB,aD,aC){if(!N.rTag||aB){ag=aB?aB.charAt(0):ag;af=aB?aB.charAt(1):af;Q=aD?aD.charAt(0):Q;P=aD?aD.charAt(1):P;aj=aC||aj;aB="\\"+ag+"(\\"+aj+")?\\"+af;aD="\\"+Q+"\\"+P;i="(?:(?:(\\w+(?=[\\/\\s\\"+Q+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+Q+"]|\\"+Q+"(?!\\"+P+"))*?)";N.rTag=i+")";i=new RegExp(aB+i+"(\\/)?|(?:\\/(\\w+)))"+aD,"g");ax=new RegExp("<.*>|([^\\\\]|^)[{}]|"+aB+".*"+aD)}return[ag,af,Q,P,aj]}function X(aF,aH){if(!aH){aH=aF;aF=C}var aE,aG,aD,aI,aC=this,aB=!aH||aH==="root";if(aF){aI=aC.type===aH?aC:C;if(!aI){aE=aC.views;if(aC._.useKey){for(aG in aE){if(aI=aE[aG].get(aF,aH)){break}}}else{for(aG=0,aD=aE.length;!aI&&aG<aD;aG++){aI=aE[aG].get(aF,aH)}}}}else{if(aB){while(aC.parent.parent){aI=aC=aC.parent}}else{while(aC&&!aI){aI=aC.type===aH?aC:C;aC=aC.parent}}}return aI}function n(){var aB=this.get("item");return aB?aB.index:C}n.depends=function(){return[this.get("item"),"index"]};function s(){return this.index}s.depends=function(){return["index"]};function z(aF){var aD,aC=this,aB=aC.linkCtx,aE=(aC.ctx||{})[aF];if(aE===C&&aB&&aB.ctx){aE=aB.ctx[aF]}if(aE===C){aE=H[aF]}if(aE){if(d(aE)&&!aE._wrp){aD=function(){return aE.apply((!this||this===B)?aC:this,arguments)};aD._wrp=1;w(aD,aE)}}return aD||aE}function a(aF,aD,aE){var aC,aH,aI,aG=+aE===aE&&aE,aB=aD.linkCtx;if(aG){aE=(aG=aD.tmpl.bnds[aG-1])(aD.data,aD,k)}aH=aE.args[0];if(aF||aG){aC=aB&&aB.tag;if(!aC){aC={_:{inline:!aB,bnd:aG},tagName:aF+":",flow:true,tagCtx:aE,_is:"tag"};if(aB){aB.tag=aC;aC.linkCtx=aB;aE.ctx=ac(aE.ctx,aB.view.ctx)}}for(aI in aE.props){if(m.test(aI)){aC[aI]=aE.props[aI]}}aE.view=aD;aC.ctx=aE.ctx||{};delete aE.ctx;aD._.tag=aC;aH=o(aC,aC.convert||aF!=="true"&&aF)[0];aH=aG&&aD._.onRender?aD._.onRender(aH,aD,aG):aH;aD._.tag=C}return aH!=C?aH:""}function o(aB,aF){var aD=aB.tagCtx,aC=aD.view,aE=aD.args;aF=aF&&(""+aF===aF?(aC.getRsc("converters",aF)||ad("Unknown converter: '"+aF+"'")):aF);aE=!aE.length&&!aD.index&&aB.autoBind?[aC.data]:aF?aE.slice():aE;if(aF){if(aF.depends){aB.depends=N.getDeps(aB.depends,aB,aF.depends,aF)}aE[0]=aF.apply(aB,aE)}return aE}function aa(aE,aF){var aD,aC,aB=this;while((aD===C)&&aB){aC=aB.tmpl[aE];aD=aC&&aC[aF];aB=aB.parent}return aD||k[aE][aF]}function Z(aE,aI,aM,aN,a0){var a4,a5,aQ,aS,aW,aX,aU,aZ,aO,aB,aV,aY,aK,aR,a2,aL,aD,aF,aH,a1,aP,a3="",aJ=+aN===aN&&aN,aG=aI.linkCtx||0,aT=aI.ctx,aC=aM||aI.tmpl;if(aE._is==="tag"){a5=aE;aE=a5.tagName;aN=a5.tagCtxs}a5=a5||aG.tag;if(aJ){aN=(aY=aC.bnds[aJ-1])(aI.data,aI,k)}aU=aN.length;for(aX=0;aX<aU;aX++){if(!aX&&(!aM||!a5)){aK=aI.getRsc("tags",aE)||ad("Unknown tag: {{"+aE+"}}")}aO=aN[aX];if(!aG.tag){aV=aO.tmpl;aV=aO.content=aV&&aC.tmpls[aV-1];w(aO,{tmpl:(a5?a5:aK).template||aV,render:r,index:aX,view:aI,ctx:ac(aO.ctx,aT)})}if(aM=aO.props.tmpl){aM=""+aM===aM?aI.getRsc("templates",aM)||p(aM):aM;aO.tmpl=aM}if(!a5){if(aK._ctr){a5=new aK._ctr();aR=!!a5.init;a5.attr=a5.attr||aK.attr||C}else{a5={render:aK.render}}a5._={inline:!aG};if(aG){aG.attr=a5.attr=aG.attr||a5.attr;aG.tag=a5;a5.linkCtx=aG}if(a5._.bnd=aY||aG.fn){a5._.arrVws={}}else{if(a5.dataBoundOnly){ad("{^{"+aE+"}} tag must be data-bound")}}a5.tagName=aE;a5.parent=aW=aT&&aT.tag;a5._is="tag";a5._def=aK;a5.tagCtxs=aN}if(!aX){for(aF in aH=aO.props){if(m.test(aF)){a5[aF]=aH[aF]}}}aO.tag=a5;if(a5.map&&a5.tagCtxs){aO.map=a5.tagCtxs[aX].map}if(!a5.flow){aB=aO.ctx=aO.ctx||{};aQ=a5.parents=aB.parentTags=aT&&ac(aB.parentTags,aT.parentTags)||{};if(aW){aQ[aW.tagName]=aW}aB.tag=a5}}aI._.tag=a5;a5.rendering={};for(aX=0;aX<aU;aX++){aO=a5.tagCtx=a5.tagCtxs[aX];aH=aO.props;aD=o(a5,a5.convert);if((a2=aH.map||a5).map){if(aD.length||aH.map){aL=aO.map=w(aO.map||{unmap:a2.unmap},aH);if(aL.src!==aD[0]){if(aL.src){aL.unmap()}a2.map.apply(aL,aD)}aD=[aL.tgt]}}a5.ctx=aO.ctx;if(!aX&&aR){aP=a5.template;a5.init(aO,aG,a5.ctx);aR=C;if(a5.template!==aP){a5._.tmpl=a5.template}}aZ=C;a4=a5.render;if(a4=a5.render){aZ=a4.apply(a5,aD)}aD=aD.length?aD:[aI];aZ=aZ!==C?aZ:aO.render(aD[0],true)||(a0?C:"");a3=a3?a3+(aZ||""):aZ}delete a5.rendering;a5.tagCtx=a5.tagCtxs[0];a5.ctx=a5.tagCtx.ctx;if(a5._.inline&&(aS=a5.attr)&&aS!==ai){a3=aS==="text"?aw.html(a3):""}return aJ&&aI._.onRender?aI._.onRender(a3,aI,aJ):a3}function au(aB,aG,aM,aC,aH,aI,aL,aO){var aJ,aF,aN,aK=this,aE=aG==="array",aD={key:0,useKey:aE?0:1,id:""+u++,onRender:aO,bnds:{}};aK.data=aC;aK.tmpl=aH,aK.content=aL;aK.views=aE?[]:{};aK.parent=aM;aK.type=aG;aK._=aD;aK.linked=!!aO;if(aM){aJ=aM.views;aF=aM._;if(aF.useKey){aJ[aD.key="_"+aF.useKey++]=aK;aK.index=aA;aK.getIndex=n;aN=aF.tag;aD.bnd=aE&&(!aN||!!aN._.bnd&&aN)}else{aJ.splice(aD.key=aK.index=aI,0,aK)}aK.ctx=aB||aM.ctx}else{aK.ctx=aB}}au.prototype={get:X,getIndex:s,getRsc:aa,hlp:z,_is:"view"};function f(aF){var aB,aG,aC,aD,aE;for(aB in ab){aD=ab[aB];if((aE=aD.compile)&&(aG=aF[aB+"s"])){for(aC in aG){aG[aC]=aE(aC,aG[aC],aF,aB,aD)}}}}function c(aC,aE,aD){var aF,aB;if(d(aE)){aE={depends:aE.depends,render:aE}}else{if((aB=aE.template)!==C){aE.template=""+aB===aB?(p[aB]||p(aB)):aB}if(aE.init!==false){aF=aE._ctr=function(aG){};(aF.prototype=aE).constructor=aF}}if(aD){aE._parentTmpl=aD}return aE}function y(aB,aH,aI,aG,aC,aJ){function aE(aK){if((""+aK===aK)||aK.nodeType>0){try{aD=aK.nodeType>0?aK:!ax.test(aK)&&b&&b(B.document).find(aK)[0]}catch(aL){}if(aD){aK=p[aB=aB||aD.getAttribute(T)];if(!aK){aB=aB||"_"+O++;aD.setAttribute(T,aB);aK=p[aB]=y(aB,aD.innerHTML,aI,aG,aC,aJ)}aD=C}return aK}}var aF,aD;aH=aH||"";aF=aE(aH);aJ=aJ||(aH.markup?aH:{});aJ.tmplName=aB;if(aI){aJ._parentTmpl=aI}if(!aF&&aH.markup&&(aF=aE(aH.markup))){if(aF.fn&&(aF.debug!==aH.debug||aF.allowCode!==aH.allowCode)){aF=aF.markup}}if(aF!==C){if(aB&&!aI){h[aB]=function(){return aH.render.apply(aH,arguments)}}if(aF.fn||aH.fn){if(aF.fn){if(aB&&aB!==aF.tmplName){aH=ac(aJ,aF)}else{aH=aF}}}else{aH=D(aF,aJ);v(aF.replace(az,"\\$&"),aH)}f(aJ);return aH}}function D(aE,aF){var aB,aC=q.wrapMap||{},aD=w({markup:aE,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:ap},aF);if(!aF.htmlTag){aB=G.exec(aE);aD.htmlTag=aB?aB[1].toLowerCase():""}aB=aC[aD.htmlTag];if(aB&&aB!==aC.div){aD.markup=ak.trim(aD.markup)}return aD}function t(aD,aC){function aE(aF,aH,aL){var aG,aK,aJ,aI;if(aF&&""+aF!==aF&&!aF.nodeType&&!aF.markup){for(aJ in aF){aE(aJ,aF[aJ],aH)}return k}if(aH===C){aH=aF;aF=C}if(aF&&""+aF!==aF){aL=aH;aH=aF;aF=C}aI=aL?aL[aB]=aL[aB]||{}:aE;aK=aC.compile;if(aG=N.onBeforeStoreItem){aK=aG(aI,aF,aH,aK)||aK}if(!aF){aH=aK(C,aH)}else{if(aH===null){delete aI[aF]}else{aI[aF]=aK?(aH=aK(aF,aH,aL,aD,aC)):aH}}if(aK&&aH){aH._is=aD}if(aG=N.onStoreItem){aG(aI,aF,aH,aK)}return aH}var aB=aD+"s";k[aB]=aE;ab[aD]=aC}function l(aE,aD){var aC=this.jquery&&(this[0]||ad('Unknown template: "'+self.selector+'"')),aB=aC.getAttribute(T);return ap.call(aB?p[aB]:p(aC),aE,aD)}function L(aC,aD,aB){if(q._dbgMode){try{return aC.fn(aD,aB,k)}catch(aE){return ad(aE,aB)}}return aC.fn(aD,aB,k)}function ap(aF,aD,aH,aE,aC,aG){var aB=this;if(!aE&&aB.fn._nvw&&!ak.isArray(aF)){return L(aB,aF,{tmpl:aB})}return r.call(aB,aF,aD,aH,aE,aC,aG)}function r(aV,aD,aE,aF,aW,aG){var aQ,aP,aI,aS,aU,aM,aL,aJ,aC,aT,aR,aB,aH,aO,aN=this,aK="";if(!!aD===aD){aE=aD;aD=C}if(aW===true){aL=true;aW=0}if(aN.tag){aJ=aN;aN=aN.tag;aT=aN._;aB=aN.tagName;aH=aT.tmpl||aJ.tmpl;aO=aN.attr&&aN.attr!==ai,aD=ac(aD,aN.ctx);aC=aJ.content;if(aJ.props.link===false){aD=aD||{};aD.link=false}aF=aF||aJ.view;aV=arguments.length?aV:aF}else{aH=aN}if(aH){if(!aF&&aV&&aV._is==="view"){aF=aV}if(aF){aC=aC||aF.content;aG=aG||aF._.onRender;if(aV===aF){aV=aF.data}aD=ac(aD,aF.ctx)}if(!aF||aF.data===C){(aD=aD||{}).root=aV}if(!aH.fn){aH=p[aH]||p(aH)}if(aH){aG=(aD&&aD.link)!==false&&!aO&&aG;aR=aG;if(aG===true){aR=C;aG=aF._.onRender}aD=aH.helpers?ac(aH.helpers,aD):aD;if(ak.isArray(aV)&&!aE){aS=aL?aF:(aW!==C&&aF)||new au(aD,"array",aF,aV,aH,aW,aC,aG);for(aQ=0,aP=aV.length;aQ<aP;aQ++){aI=aV[aQ];aU=new au(aD,"item",aS,aI,aH,(aW||0)+aQ,aC,aG);aM=L(aH,aI,aU);aK+=aS._.onRender?aS._.onRender(aM,aU):aM}}else{if(aF||!aH.fn._nvw){aS=aL?aF:new au(aD,aB||"data",aF,aV,aH,aW,aC,aG);if(aT&&!aN.flow){aS.tag=aN}}aK+=L(aH,aV,aS)}return aR?aR(aK,aS):aK}}return""}function ad(aD,aB,aE){var aC=q.onError(aD,aB,aE);if(""+aD===aD){throw new N.Err(aC)}return !aB.linkCtx&&aB.linked?aw.html(aC):aC}function K(aB){ad("Syntax error\n"+aB)}function v(aP,aL,aO,aH){function aE(aR){aR-=aG;if(aR){aJ.push(aP.substr(aG,aR).replace(aq,"\\n"))}}function aN(aR){aR&&K('Unmatched or missing tag: "{{/'+aR+'}}" in template:\n'+aP)}function aB(aS,bb,aU,a7,a5,aZ,aR,a3,a6,a0,a9,aX){if(aZ){a5=":";a7=ai}a0=a0||aO;var a8=(bb||aO)&&[],aV="",aT="",a1="",a4="",ba="",a2="",aW="",aY=!a0&&!a5&&!aR;aU=aU||(a6=a6||"#data",a5);aE(aX);aG=aX+aS.length;if(a3){if(aF){aJ.push(["*","\n"+a6.replace(A,"$1")+"\n"])}}else{if(aU){if(aU==="else"){if(Y.test(a6)){K('for "{{else if expr}}" use "{{else expr}}"')}a8=aI[6];aI[7]=aP.substring(aI[7],aX);aI=aK.pop();aJ=aI[2];aY=true}if(a6){U(a6.replace(aq," "),a8,aL,aO).replace(ae,function(bg,bd,bh,be,bf,bi,bc,bj){if(bc){aT+=bi+",";a4+="'"+bj+"',"}else{if(bh){a1+=be+bi+",";a2+=be+"'"+bj+"',"}else{if(bd){aW+=bi}else{aV+=be+bi+",";ba+=be+"'"+bj+"',";aD=aD||m.test(bf)}}}return""}).slice(0,-1)}aM=[aU,a7||!!aH||aD||"",aY&&[],al(a4,ba,a2),al(aT,aV,a1),aW,a8||0];aJ.push(aM);if(aY){aK.push(aI);aI=aM;aI[7]=aG}}else{if(a9){aN(a9!==aI[0]&&aI[0]!=="else"&&a9);aI[7]=aP.substring(aI[7],aX);aI=aK.pop()}}}aN(!aI&&a9);aJ=aI[2]}var aQ,aM,aD,aF=aL&&aL.allowCode,aC=[],aG=0,aK=[],aJ=aC,aI=[,,aC];if(aO){aP=ag+aP+P}aN(aK[0]&&aK[0][2].pop()[0]);aP.replace(i,aB);aE(aP.length);if(aG=aC[aC.length-1]){aN(""+aG!==aG&&(+aG[7]===aG[7])&&aG[0])}if(aO){aQ=F(aC,aP,aO);aQ.paths=aC[0][6]}else{aQ=F(aC,aL)}if(aQ._nvw){aQ._nvw=!/[~#]/.test(aP)}return aQ}function al(aC,aD,aB){return[aC.slice(0,-1),aD.slice(0,-1),aB.slice(0,-1)]}function g(aC,aB){return"\n\t"+(aB?aB+":{":"")+"args:["+aC[0]+"]"+(aC[1]||!aB?",\n\tprops:{"+aC[1]+"}":"")+(aC[2]?",\n\tctx:{"+aC[2]+"}":"")}function U(aG,aC,aL,aO){function aM(aT,bc,aV,aQ,a3,a0,aW,bd,aR,a1,bb,ba,a6,a9,aY,a7,aU,a8,aX,aZ){a0=a0||"";aV=aV||bc||ba;a3=a3||aR;a1=a1||aU||"";var aS,a5,a2;function a4(bl,bf,bg,be,bm,bk,bh,bi){if(bg){if(aC){if(aH==="linkTo"){aN=aC._jsvto=aC._jsvto||[];aN.push(a3)}if(!aH||aI){aC.push(a3.slice(bf.length))}}if(bg!=="."){var bj=(be?'view.hlp("'+be+'")':bm?"view":"data")+(bi?(bk?"."+bk:be?"":(bm?"":"."+bg))+(bh||""):(bi=be?"":bm?bk||"":bg,""));bj=bj+(bi?"."+bi:"");return bf+(bj.slice(0,9)==="view.data"?bj.slice(5):bj)}}return bl}if(aW&&!aJ&&!aF){K(aG)}else{if(aC&&a7&&!aJ&&!aF){if(!aH||aI||aN){aS=aK[aD];if(aZ.length-1>aX-aS){aS=aZ.slice(aS,aX+1);a7=af+":"+aS+Q;a2=aE[a7];if(!a2){aE[a7]=1;aE[a7]=a2=v(a7,aL||aC,true);a2.paths.push({_jsvOb:a2})}if(a2!==1){(aN||aC).push({_jsvOb:a2})}}}}return(aJ?(aJ=!a6,(aJ?aT:'"')):aF?(aF=!a9,(aF?aT:'"')):((aV?(aD++,aK[aD]=aX++,aV):"")+(a8?(aD?"":(aP=aZ.slice(aP,aX),aH?(aH=aI=aN=false,"\b"):"\b,")+aP+(aP=aX+aT.length,"\b")):bd?(aD&&K(aG),aH=a3,aI=aQ,aP=aX+aT.length,a3+":"):a3?(a3.split("^").join(".").replace(x,a4)+(a1?(aB[++aD]=true,a3.charAt(0)!=="."&&(aK[aD]=aX),a5?"":a1):a0)):a0?a0:aY?((aB[aD--]=false,aY)+(a1?(aB[++aD]=true,a1):"")):bb?(aB[aD]||K(aG),","):bc?"":(aJ=a6,aF=a9,'"'))))}}var aH,aN,aI,aF,aJ,aP=0,aE=aL?aL.links:aC&&(aC.links=aC.links||{}),aB={},aK={0:-1},aD=0;return(aG+(aL?" ":"")).replace(/\)\^/g,").").replace(V,aM)}function F(aB,aL,aH){var a6,aT,aM,aR,aX,a5,aU,aE,a1,a7,aQ,aC,a0,aP,aD,aK,aY,aF,aS,aI,aZ,ba,aV,a9,aO,a2,aN,aW,aJ=0,aG="",a4={},a3=aB.length;if(""+aL===aL){aY=aH?'data-link="'+aL.replace(aq," ").slice(1,-1)+'"':aL;aL=0}else{aY=aL.tmplName||"unnamed";if(aL.allowCode){a4.allowCode=true}if(aL.debug){a4.debug=true}a0=aL.bnds;aK=aL.tmpls}for(a6=0;a6<a3;a6++){aT=aB[a6];if(""+aT===aT){aG+='\n+"'+aT+'"'}else{aM=aT[0];if(aM==="*"){aG+=";\n"+aT[1]+"\nret=ret"}else{aR=aT[1];aI=aT[2];aX=g(aT[3],"params")+"},"+g(aD=aT[4]);aN=aT[5];aZ=aT[7];if(!(a9=aM==="else")){aJ=0;if(a0&&(aP=aT[6])){aJ=a0.push(aP)}}if(aO=aM===":"){if(aR){aM=aR===ai?">":aR+aM}}else{if(aI){aF=D(aZ,a4);aF.tmplName=aY+"/"+aM;F(aI,aF);aK.push(aF)}if(!a9){aS=aM;aV=aG;aG=""}ba=aB[a6+1];ba=ba&&ba[0]==="else"}aW=(aN?";\ntry{\nret+=":"\n+");if(aO&&(aP||aR&&aR!==ai)){a2="return {"+aX+"};";if(aN){a2="try {\n"+a2+"\n}catch(e){return {error: j._err(e,view,"+aN+")}}\n"}a2=new Function("data,view,j,u"," // "+aY+" "+aJ+" "+aM+"\n"+a2);a2.paths=aP;a2._tag=aM;if(aH){return a2}aC=1}aG+=(aO?(aH?(aN?"\ntry{\n":"")+"return ":aW)+(aC?(aC=0,aQ=a7=true,'c("'+aR+'",view,'+(aP?((a0[aJ-1]=a2),aJ):"{"+aX+"}")+")"):aM===">"?(aU=true,"h("+aD[0]+")"):(aE=true,"((v="+aD[0]+')!=null?v:"")')):(aQ=a5=true,"\n{view:view,tmpl:"+(aI?aK.length:"0")+","+aX+"},"));if(aS&&!ba){aG="["+aG.slice(0,-1)+"]";if(aH||aP){aG=new Function("data,view,j,u"," // "+aY+" "+aJ+" "+aS+"\nreturn "+aG+";");if(aP){(a0[aJ-1]=aG).paths=aP}aG._tag=aM;if(aH){return aG}}aG=aV+aW+'t("'+aS+'",view,this,'+(aJ||aG)+")";aP=0;aS=0}if(aN){aQ=true;aG+=";\n}catch(e){ret"+(aH?"urn ":"+=")+"j._err(e,view,"+aN+");}\n"+(aH?"":"ret=ret")}}}}aG="// "+aY+"\nj=j||"+(b?"jQuery.":"jsviews.")+"views;var v"+(a5?",t=j._tag":"")+(a7?",c=j._cnvt":"")+(aU?",h=j.converters.html":"")+(aH?";\n":',ret=""\n')+(a4.debug?"debugger;":"")+aG+(aH?"\n":";\nreturn ret;");try{aG=new Function("data,view,j,u",aG)}catch(a8){K("Compiled template code:\n\n"+aG+'\n: "'+a8.message+'"')}if(aL){aL.fn=aG}if(!aQ){aG._nvw=true}return aG}function ac(aC,aB){return aC&&aC!==aB?(aB?w(w({},aB),aC):aC):aB&&w({},aB)}function av(aB){return e[aB]||(e[aB]="&#"+aB.charCodeAt(0)+";")}for(an in ab){t(an,ab[an])}var W,p=k.templates,aw=k.converters,H=k.helpers,ao=k.tags,N=k.sub,q=k.settings;if(b){ak=b;ak.fn.render=l;if(W=ak.observable){w(N,W.sub);delete W.sub}}else{ak=B.jsviews={};ak.isArray=Array&&Array.isArray||function(aB){return Object.prototype.toString.call(aB)==="[object Array]"}}ak.render=h;ak.views=k;ak.templates=p=k.templates;q({debugMode:am,delimiters:J,onError:function(aC,aB,aD){if(aB){aC=aD===C?"{Error: "+aC+"}":d(aD)?aD(aC,aB):aD}return aC},_dbgMode:true});ao({"else":function(){},"if":{render:function(aD){var aB=this,aC=(aB.rendering.done||!aD&&(arguments.length||!aB.tagCtx.index))?"":(aB.rendering.done=true,aB.selected=aB.tagCtx.index,aB.tagCtx.render(aB.tagCtx.view,true));return aC},onUpdate:function(aF,aE,aD){var aC,aB,aG;for(aC=0;(aB=this.tagCtxs[aC])&&aB.args.length;aC++){aB=aB.args[0];aG=!aB!==!aD[aC].args[0];if((!this.convert&&!!aB)||aG){return aG}}return false},flow:true},"for":{render:function(aG){var aF,aE=this,aD=aE.tagCtx,aB="",aC=0;if(!aE.rendering.done){if(aF=!arguments.length){aG=aD.view.data}if(aG!==C){aB+=aD.render(aG,aF);aC+=ak.isArray(aG)?aG.length:1}if(aE.rendering.done=aC){aE.selected=aD.index}}return aB},flow:true,autoBind:true},include:{flow:true,autoBind:true},"*":{render:ah,flow:true}});function ay(aD){var aB,aE,aC=[];if(typeof aD==="object"){for(aB in aD){aE=aD[aB];if(!aE||!aE.toJSON||aE.toJSON()){if(!d(aE)){aC.push({key:aB,prop:aD[aB]})}}}}return aC}ao({props:w(w({},ao["for"]),at(ay))});ao.props.autoBind=true;function M(aB){return aB!=null?I.test(aB)&&(""+aB).replace(R,av)||aB:""}aw({html:M,attr:M,url:function(aB){return aB!=C?encodeURI(""+aB):aB===null?aB:""}});J()})(this,this.jQuery);(function(a,y,h){if(!y){throw"jsViews/jsObservable require jQuery"}if(y.observable){return}var J="v1.0.0-alpha",e=y.event.special,B=y.views?y.views.sub:(p.sub={}),G=1,r=[].splice,i=y.isArray,z=y.expando,k="object",u=parseInt,x=/\S+/g,A=B.propChng=B.propChng||"propertyChange",F=B.arrChng=B.arrChng||"arrayChange",m=B._cbBnds=B._cbBnds||{},n=A+".observe",c=y.isFunction,l=1,C=1,q=y.hasData,s={};B.getDeps=function(){var L=arguments;return function(){var M,O,P=[],N=L.length;while(N--){M=L[N--],O=L[N];if(O){P=P.concat(c(O)?O(M,M):O)}}return P}};function p(L){return i(L)?new b(L):new d(L)}function d(L){this._data=L;return this}function b(L){this._data=L;return this}function t(L){return i(L)?[L]:L}function g(S,M){S=i(S)?S:[S];var Q,R,O=M,P=O,L=S.length,N=[];for(Q=0;Q<L;Q++){R=S[Q];if(c(R)){N=N.concat(g(R.call(M,M),M));continue}else{if(""+R!==R){M=P=R;if(P!==O){N.push(O=P)}continue}}if(P!==O){N.push(O=P)}N.push(R)}return N}function j(M,O){var L,N;for(L in M){N=true;break}if(!N){delete m[O]}}function I(R,M){if(!(R.data&&R.data.off)){var Q,N,V,L=M.oldValue,S=M.value,T=R.data,P=T.observeAll,O=!T.cb.noArray,U=T.paths;if(R.type===F){(T.cb.array||T.cb).call(T,R,M)}else{if(T.prop===M.path||T.prop==="*"){L=typeof L===k&&(U[0]||O&&i(L))&&L;S=typeof(S=M.value)===k&&(U[0]||O&&i(S))&&S;if(P){Q=P._path+"."+M.path;N=P.filter;V=[P.parents().slice()];if(L){D(O,P.ns,[L],U,T.cb,true,N,V,Q)}if(S){D(O,P.ns,[S],U,T.cb,h,N,V,Q)}}else{if(L){D(O,[L],U,T.cb,true)}if(S){D(O,[S],U,T.cb)}}T.cb(R,M)}}}}function H(){function ap(az,ay,aA,aE){var ax,aC,aB=q(al),aD=t(al);az=V?az+"."+V:az;if(ae||aE){if(aB){y(aD).off(az,I)}}else{if(ac=aB&&y._data(al)){ac=ac&&ac.events;ac=ac&&ac[aA?F:A];av=ac&&ac.length;while(av--){if((aw=ac[av].data)&&aw.cb._cId===aj._cId&&aw.ns===V){if(aA){return}else{if(ay==="*"&&aw.prop!==ay||aw.prop===W){y(al).off(az,I)}}}}}aC=aA?{}:{fullPath:am,paths:ay?[ay]:[],prop:W};aC.ns=V;aC.cb=aj;if(N){aC.observeAll={_path:N,path:function(){ax=aq.length;return N.replace(/[[.]/g,function(aF){ax--;return aF==="["?"["+y.inArray(aq[ax-1],aq[ax]):"."})},parents:function(){return aq},filter:ah,ns:V}}y(aD).on(az,null,aC,I);if(ai){ai[y.data(al,"obId")||y.data(al,"obId",l++)]=al}}}function L(az,ay){az._ob=S(az,T);var ax=T;return function(aC,aB){var aD=az._ob,aA=ay.length;if(typeof aD===k){ak(aD,true);if(aA||P&&i(aD)){D(P,[aD],ay,aj,S,true)}}aD=az._ob=S(az,ax);if(typeof aD===k){ak(aD);if(aA||P&&i(aD)){D(P,[aD],ay,aj,S,[ax])}}aj(aC,aB)}}function ak(ax,aA,ay,aB){if(P){var aC=al,az=N;al=ax;if(aB){al=ax[aB];N+="."+aB;if(ah){al=p._fltr(aB,ax,N,ah)}}if(al&&(ay||i(al))){ap(F+".observe"+(aj?".obs"+(Z=aj._cId=aj._cId||C++):""),h,true,aA)}al=aC;N=az}}var at,an,U,au,W,am,ab,R,ae,aj,Z,av,aw,ac,S,Y,ai,O,Q,aq,N,ah,V,X,aa,P=this!=false,M=1,ar=n,af=Array.apply(0,arguments),ag=af.pop(),T=af.shift(),ad=T,al=ad,ao=af.length;if(T+""===T&&P){V=T;T=al=ad=af.shift();ao--}if(c(ag)){aj=ag}else{if(ag+""===ag){N=ag;aq=af.pop();ah=af.pop();ag=af.pop();ao=ao-3}if(ag===true){ae=ag}else{if(ag){T=ag;M=0}}ag=af[ao-1];if(ao&&ag===h||c(ag)){aj=af.pop();ao--}}if(ao&&c(af[ao-1])){S=aj;aj=af.pop();ao--}ar+=ae?(aj?".obs"+aj._cId:""):".obs"+(Z=aj._cId=aj._cId||C++);if(!ae){ai=m[Z]=m[Z]||{}}X=V&&V.match(x)||[""];aa=X.length;while(aa--){V=X[aa];if(i(ad)){ak(ad,ae,true)}else{if(ae&&ao===0&&ad){ap(ar,"")}}O=0;for(at=0;at<ao;at++){am=af[at];if(am===""){continue}al=ad;if(""+am===am){au=am.split("^");if(au[1]){O=au[0].split(".").length;am=au.join(".");O=am.split(".").length-O}if(S&&(Y=S(am,ad))){ao+=Y.length-1;r.apply(af,[at--,1].concat(Y));continue}au=am.split(".")}else{if(M&&!c(am)){if(am._jsvOb){Q=L(am,af.slice(at+1));Q.noArray=!P;Q._cId=aj._cId;D(P,[T],af.slice(0,at),Q,S);Q=h;am=am._ob}al=am}ad=am;au=[ad]}while(al&&(W=au.shift())!==h){if(typeof al===k){if(""+W===W){if(W===""){continue}if((au.length<O+1)&&!al.nodeType){if(!ae&&(ac=q(al)&&y._data(al))){ac=ac.events;ac=ac&&ac[A];av=ac&&ac.length;U=0;while(av--){aw=ac[av].data;if(aw&&aw.cb===aj&&aw.ns===V){if(aw.prop===W||aw.prop==="*"){if(an=au.join(".")){aw.paths.push(an)}U++}}}if(U){al=al[W];continue}}if(W==="*"){if(!ae&&ac&&ac.length){ap(ar,"",false,true)}if(c(al)){if(R=al.depends){D(P,[R],aj,ae||T)}}else{ap(ar,"")}for(an in al){ak(al,ae,h,an)}break}else{if(W){ap(ar+"."+W,au.join("."))}}}if(N){N+="."+W}W=al[W]}if(c(W)){if(R=W.depends){D(P,[al],g(R,al),aj,S,ae||[T])}break}al=W}}ak(al,ae)}}if(Z){j(ai,Z)}return{cbId:Z,bnd:ai}}function K(){[].push.call(arguments,true);return H.apply(this,arguments)}function D(){var L=[].concat.apply([],arguments);return H.apply(L.shift(),L)}function v(M,L,N){return(N.indexOf(".")<0)&&(N.indexOf("[")<0)&&L[M]}function w(O,L,M,P,N){P=P||v;N=N||v;return{getTgt:O,obsSrc:L,obsTgt:M,map:function(R){var Q=this;if(Q.src!==R){if(Q.src){Q.unmap()}if(typeof R===k){var T,S=O.apply(Q,arguments);if(y.observable){y.observable(R).observeAll(Q.obs=function(V,U){if(!T&&L){T=true;L.call(Q,R,S,V,U);T=false}},P);y.observable(S).observeAll(Q.obt=function(V,U){if(!T&&M){T=true;M.call(Q,R,S,V,U);T=false}},N)}Q.src=R;Q.tgt=S}}return Q},unmap:function(){if(y.observable){var Q=this;if(Q.src){y.observable(Q.src).unobserveAll(Q.obs,P);y.observable(Q.tgt).unobserveAll(Q.obt,N);Q.src=Q.tgt=h}}}}}function E(N,L,M,O){if(N+""!==N){M=L;L=N;N=""}f(N,this._data,L,M,[],"root",O)}function o(N,L,M){E.call(this,N,L,M,true)}function f(P,R,Q,M,Y,U,N){function S(Z,aa){O=Z.length;V=U+"[]";while(O--){if(T=p._fltr(O,Z,V,M)){f(P,T,Q,M||"",Y.slice(),V,aa)}}}function X(aa,Z){U=aa.data.observeAll._path;var ab=Y;if(Y[0]!==aa.target){Y=Y.slice();Y.unshift(aa.target)}switch(Z.change){case"insert":S(Z.items);break;case"remove":S(Z.items,true);break;case"refresh":S(Z.oldItems,true);S(aa.target);break;case"set":V=U+"."+Z.path;f(P,Z.oldValue,Q,0,Y.slice(),V,true);f(P,Z.value,Q,0,Y.slice(),V)}Q.apply(this,arguments);Y=ab}var O,L,W,V,T;if(typeof R===k){W=i(R)?"":"*";Y.unshift(R);if(Q){if(W||M!==0){X._cId=Q._cId=Q._cId||C++;H(P,R,W,X,N,M,Y.slice(),U)}}else{H(P,R,W,h,N,M,Y.slice(),U)}if(W){for(O in R){if(O.charAt(0)!=="_"&&O!==z){V=U+"."+O;if(T=p._fltr(O,R,V,M)){f(P,T,Q,M||0,Y.slice(),V,N)}}}}else{S(R,N)}}}B.DataMap=w;y.observable=p;p._fltr=function(M,L,O,N){var P=(N&&c(N)?N(M,L,O):L[M]);if(P){P=c(P)?P.set&&P.call(L):P}return typeof P===k&&P};p.Object=d;p.Array=b;y.observe=p.observe=H;y.unobserve=p.unobserve=K;p._apply=D;d.prototype={_data:null,observeAll:E,unobserveAll:o,data:function(){return this._data},setProperty:function(T,Q,O){var P,R,M,N,S=this,L=S._data;T=T||"";if(L){if(i(T)){R=T.length;while(R--){M=T[R];S.setProperty(M.name,M.value,O===h||O)}}else{if(""+T!==T){for(R in T){S.setProperty(R,T[R],Q)}}else{if(T!==z){N=T.split(".");while(L&&N.length>1){L=L[N.shift()]}L&&S._setProperty(L,N[0],Q,O)}}}}return S},removeProperty:function(L){this.setProperty(L,s);return this},_setProperty:function(M,R,Q,P){var S,L,N,O=R?M[R]:M;if(c(O)){if(O.set){L=O;S=O.set===true?O:O.set;O=O.call(M)}}if(O!==Q||P&&O!=Q){if(!(O instanceof Date)||O>Q||O<Q){if(S){S.call(M,Q);Q=L.call(M)}else{if(N=Q===s){delete M[R];Q=h}else{if(R){M[R]=Q}}}this._trigger(M,{change:"set",path:R,value:Q,oldValue:O,remove:N})}}},_trigger:function(M,L){y(M).triggerHandler(A,L)}};b.prototype={_data:null,observeAll:E,unobserveAll:o,data:function(){return this._data},insert:function(L,N){var M=this._data;if(arguments.length===1){N=L;L=M.length}L=u(L);if(L>-1&&L<=M.length){N=i(N)?N:[N];if(N.length){this._insert(L,N)}}return this},_insert:function(L,O){var N=this._data,M=N.length;r.apply(N,[L,0].concat(O));this._trigger({change:"insert",index:L,items:O},M)},remove:function(M,O){var L,N=this._data;if(M===h){M=N.length-1}M=u(M);O=O?u(O):O===0?0:1;if(O>-1&&M>-1){L=N.slice(M,M+O);O=L.length;if(O){this._remove(M,O,L)}}return this},_remove:function(M,P,L){var O=this._data,N=O.length;O.splice(M,P);this._trigger({change:"remove",index:M,items:L},N)},move:function(O,N,L){L=L?u(L):L===0?0:1;O=u(O);N=u(N);if(L>0&&O>-1&&N>-1&&O!==N){var M=this._data.slice(O,O+L);L=M.length;if(L){this._move(O,N,L,M)}}return this},_move:function(Q,N,L,M){var P=this._data,O=P.length;P.splice(Q,L);P.splice.apply(P,[N,0].concat(M));this._trigger({change:"move",oldIndex:Q,index:N,items:M},O)},refresh:function(L){var M=this._data.slice();this._refresh(M,L);return this},_refresh:function(O,L){var N=this._data,M=N.length;r.apply(N,[0,N.length].concat(L));this._trigger({change:"refresh",oldItems:O},M)},_trigger:function(L,O){var N=this._data,P=N.length,M=y([N]);M.triggerHandler(F,L);if(P!==O){M.triggerHandler(A,{change:"set",path:"length",value:P,oldValue:O})}}};e[A]=e[F]={remove:function(O){var M,Q,N,L,P,R=O.data;if((R)&&(R.off=1,R=R.cb)){if(M=m[R._cId]){N=y._data(this).events[O.type];L=N.length;while(L--&&!Q){Q=(P=N[L].data)&&P.cb===R}if(!Q){delete M[y.data(this,"obId")];j(M,R._cId)}}}}}})(this,this.jQuery);(function(x,aI,A){var f="v1.0.0-alpha",aT="JsViews requires ",aQ,a4,d,aC,aB,T,S,aG,M,az,w,aj,av,Y,V,at,X=x.document,g=aI.views,R=g.sub,m=g.settings,p=R.extend,c=aI.isFunction,k=g.templates,aV=g.converters,Z=aI.observable,a3=Z.observe,an="data-jsv",u=R.propChng=R.propChng||"propertyChange",ah=R.arrChng=R.arrChng||"arrayChange",aR=R._cbBnds=R._cbBnds||{},W="change.jsv",E="onBeforeChange",D="onAfterChange",aK="onAfterCreate",o="checked",n="checkbox",aN="radio",b='"><\/script>',aO='<script type="jsv',P="script,["+an+"]",aE="html",aW={value:"val",input:"val",html:aE,text:"text"},Q={from:"value",to:"value"},l=0,ao=aI.cleanData,ak=m.delimiters,L=R.syntaxErr,G=/<(?!script)(\w+)(?:[^>]*(on\w+)\s*=)?[^>]*>/,a1=/['"\\]/g,O=X.createDocumentFragment(),F=X.querySelector,aH={ol:1,ul:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,colgroup:1,dl:1,select:1,optgroup:1,svg:1,svg_ns:1},aS={tr:"table"},K={br:1,img:1,input:1,hr:1,area:1,base:1,col:1,link:1,meta:1,command:1,embed:1,keygen:1,param:1,source:1,track:1,wbr:1},B={},H={},ac=1,aM=/^#(view\.?)?/,ae=/(^|(\/>)|<\/(\w+)>|)(\s*)([#\/]\d+[_^])`(\s*)(<\w+(?=[\s\/>]))?|\s*(?:(<\w+(?=[\s\/>]))|<\/(\w+)>(\s*)|(\/>)\s*|(>))/g,ab=/(#)()(\d+)(_)/g,aL=/(#)()(\d+)([_^])/g,a6=/(?:(#)|(\/))(\d+)(_)/g,af=/(#)()(\d+)(\^)/g,aa=/(?:(#)|(\/))(\d+)([_^])([-+@\d]+)?/g;if(!aI){throw aT+"jQuery"}if(!aI.views){throw aT+"JsRender"}if(!aI.observable){throw aT+"jquery.observable"}if(aI.link){return}function s(a8){var a7=this.linkedElem;if(a7){aD({target:a7[0]},A,a8)}}function aD(bp,bq,bi){var bo,bb,be,bd,a8,ba,bs,bn,bh,bl,br,bm,bj,bc,bg,bt,a9,bf,bk=bp.target,br=bk._jsvBnd,a7=/&(\d+)\+?/g;if(br){while(bl=a7.exec(br)){if(bl=H[bl[1]]){if(a9=bl.to){bd=bl.linkCtx;bh=bd.view;bt=bd.tag;bn=aI(bk);bc=bh.hlp(E);bg=bh.hlp(D);be=aw(bk);bo=aW[be];if(bi===A){bi=c(be)?be(bk):bo?bn[bo]():bn.attr(be)}ba=a9[1];a9=a9[0];if(ba){if(c(ba)){a8=ba}else{a8=bh.getRsc("converters",ba)}}if(a8){bi=a8.call(bt,bi)}bj=bh.linkCtx;bh.linkCtx=bd;bf={change:"change",oldValue:bd._val,value:bi};if((!bc||!(bb=bc.call(bd,bp,bf)===false))&&(!bt||!bt.onBeforeChange||!(bb=bt.onBeforeChange(bp,bf)===false))&&bi!==A){bs=a9[0];if(bi!==A&&bs){bs=bs._jsvOb?bs._ob:bs;if(bt){bt._.chging=true}Z(bs).setProperty(a9[2]||a9[1],bi);if(bg){bg.call(bd,bp,bf)}if(bt){if(bt.onAfterChange){bt.onAfterChange(bp,bf)}delete bt._.chging}bd._val=bi}}bh.linkCtx=bj}}}}}function ay(bk,a9,bc){var bi,bl,bn,a8,bd=this,a7=bd.data,bh=bd.elem,bb=bd.convert,be=bh.parentNode,bg=be,bj=bd.view,bf=bj.ctx,ba=bj.linkCtx,bm=bj.hlp(E);bj.linkCtx=bd;if(be&&(!bm||!(a9&&bm.call(bd,bk,a9)===false))&&!(a9&&bk.data.prop!=="*"&&bk.data.prop!==a9.path)){if(a9){bd.eventArgs=a9}if(a9||bd._initVal){delete bd._initVal;bl=bc.call(bj.tmpl,a7,bj,g);bi=v(bl,bd,bn=bd.tag,bd.attr||aw(bh,true,bb!==A));if(bl&&bl.error!==A){bl=bl.error}else{if(bn){bl=bl[0]?bl:[bl];a8=a9&&bn.onUpdate&&bn.onUpdate(bk,a9,bl)===false;a0(bn,bl);if(a8||bi==="none"){if(bi===aE){bn.onBeforeLink&&bn.onBeforeLink()}aJ(bn,bn.tagCtx);ax(bd,a7,bh);bj.linkCtx=ba;return}if(bn._.chging){return}bl=bn.tagName.slice(-1)===":"?g._cnvt(bn.tagName.slice(0,-1),bj,bl[0]):g._tag(bn,bj,bj.tmpl,bl,true)}else{if(bc._tag){bb=bb===""?"true":bb;bl=bb?g._cnvt(bb,bj,bl):g._tag(bc._tag,bj,bj.tmpl,bl,true);bn=bj._.tag;bi=bd.attr||bi}}}if(ad(bl,bd,bi,bn)&&a9&&(bm=bj.hlp(D))){bm.call(bd,bk,a9)}}if(bn){bn.contents=a2;bn.nodes=C;bn.childTags=aU;bn.update=s;bn.refresh=aF;aJ(bn,bn.tagCtx)}ax(bd,a7,bh);bj.linkCtx=ba}}function v(bd,a9,bf,bc){var be,a8,ba,a7,bb=bf&&bf.parentElem||a9.elem;if(bd!==A){a7=aI(bb);bc=bf&&bf.attr||bc;if(c(bd)){az(a9.expr+": missing parens")}if(bc==="visible"){bc="css-display"}if(ba=/^css-/.test(bc)&&bc.slice(4)){be=aI.style(bb,ba);if(+bd===bd){be=parseInt(be)}}else{if(bc!=="link"){if(bc==="value"){if(bb.type===n){be=a7.prop(bc=o)}}else{if(bc===aN){if(bb.value===(""+bd)){be=a7.prop(o)}else{return bc}}}if(be===A){a8=aW[bc];be=a8?a7[a8]():a7.attr(bc)}}}a9._val=be}return bc}function ad(bh,ba,bo,bu){var bp,bc,bm,bb,bk,a9,bd,bi,bl,bs,bq,bf=bh!==A,bn=ba.data,bt=bu&&bu.parentElem||ba.elem,a8=aI(bt),bg=ba.view,br=ba._val,a7=bg.ctx,bj=bg.linkCtx,be=bu||bo===aE;if(bu){bu.parentElem=bu.parentElem||(ba.expr||bu._elCnt)?bt:bt.parentNode;bm=bu._prv;bb=bu._nxt}if(!bf){if(bo===aE&&bu&&bu.onBeforeLink){bu.onBeforeLink()}return}if(/^css-/.test(bo)){if(ba.attr==="visible"){bh=bh?y(bt):"none"}if(be=be||br!==bh){aI.style(bt,bo.slice(4),bh)}}else{if(bo!=="link"){if(bo===o){bd=1;bh=bh&&bh!=="false"}else{if(bo===aN){if(bt.value===(""+bh)){bh=true;bd=1;bo=o}else{ax(ba,bn,bt);return}}else{if(bo==="selected"||bo==="disabled"||bo==="multiple"||bo==="readonly"){bh=(bh&&bh!=="false")?bo:null}}}if(bp=aW[bo]){if(bo===aE){bg.linkCtx=ba;bg.ctx=ba.ctx;if(bu&&bu._.inline){a9=bu.nodes(true);if(bu._elCnt){if(bm&&bm!==bb){aY(bm,bb,bt,bu._tgId,"^",true)}else{if(bi=bt._dfr){bl=bu._tgId+"^";bs=bi.indexOf("#"+bl)+1;bq=bi.indexOf("/"+bl);if(bs&&bq>0){bs+=bl.length;if(bq>bs){bt._dfr=bi.slice(0,bs)+bi.slice(bq);q(bi.slice(bs,bq))}}}}bm=bm?bm.previousSibling:bb?bb.previousSibling:bt.lastChild}aI(a9).remove();if(bu&&bu.onBeforeLink){bu.onBeforeLink()}bk=bg.link(bg.data,bt,bm,bb,bh,bu&&{tag:bu._tgId,lazyLink:bu.tagCtx.props.lazyLink})}else{if(bf){a8.empty()}if(bu&&bu.onBeforeLink){bu.onBeforeLink()}if(bf){bk=bg.link(bn,bt,bm,bb,bh,bu&&{tag:bu._tgId})}}bg.linkCtx=bj;bg.ctx=a7}else{if(be=be||br!==bh){if(bo==="text"&&bt.children&&!bt.children[0]){if(bt.textContent!==A){bt.textContent=bh}else{bt.innerText=bh===null?"":bh}}else{a8[bp](bh)}}}}else{if(be=be||br!==bh){a8[bd?"prop":"attr"](bo,bh===A&&!bd?null:bh)}}ba._val=bh}}return bk||be}function U(bc,ba){var a9=this,a8=a9.hlp(E),be=a9.hlp(D);if(!a8||a8.call(this,bc,ba)!==false){if(ba){var bd=ba.change,bb=ba.index,a7=ba.items;switch(bd){case"insert":a9.addViews(bb,a7);break;case"remove":a9.removeViews(bb,a7.length);break;case"move":a9.refresh();break;case"refresh":a9.refresh();break}}if(be){be.call(this,bc,ba)}}}function y(a9){var a8,bb,ba=x.getComputedStyle,a7=(a9.currentStyle||ba.call(x,a9,"")).display;if(a7==="none"&&!(a7=B[bb=a9.nodeName])){a8=X.createElement(bb);X.body.appendChild(a8);a7=(ba?ba.call(x,a8,""):a8.currentStyle).display;B[bb]=a7;X.body.removeChild(a8)}return a7}function aA(a7){var a9,bb,ba=a7.data,a8=a7._.bnd;if(!a7._.useKey&&a8){if(bb=a7._.bndArr){aI([bb[1]]).off(ah,bb[0]);a7._.bndArr=A}if(a8!==!!a8&&a8._.inline){if(ba){a8._.arrVws[a7._.id]=a7}else{delete a8._.arrVws[a7._.id]}}else{if(ba){a9=function(bc){if(!(bc.data&&bc.data.off)){U.apply(a7,arguments)}};aI([ba]).on(ah,a9);a7._.bndArr=[a9,ba]}}}}function aw(a8,bb,a9){var ba=a8.nodeName.toLowerCase(),a7=m.merge[ba]||a8.contentEditable==="true"&&{to:aE,from:aE};return a7?(bb?((ba==="input"&&a8.type===aN)?aN:a7.to):a7.from):bb?a9?"text":aE:""}function j(bi,bg,bj,bm,bc,a8,bh){var be,bk,bf,bl,a9,bd=bi.parentElem,a7=bi._prv,bb=bi._nxt,ba=bi._elCnt;if(a7&&a7.parentNode!==bd){az("Missing parentNode")}if(bh){bl=bi.nodes();if(ba&&a7&&a7!==bb){aY(a7,bb,bd,bi._.id,"_",true)}bi.removeViews(A,A,true);bk=bb;if(ba){a7=a7?a7.previousSibling:bb?bb.previousSibling:bd.lastChild}aI(bl).remove();for(a9 in bi._.bnds){ai(a9)}}else{if(bg){bf=bm[bg-1];if(!bf){return false}a7=bf._nxt}if(ba){bk=a7;a7=bk?bk.previousSibling:bd.lastChild}else{bk=a7.nextSibling}}be=bj.render(bc,a8,bi._.useKey&&bh,bi,bh||bg,true);bi.link(bc,bd,a7,bk,be,bf)}function N(bc,ba,a9){var bd,a7,a8,bb;if(a9){a8="^`";a7=ba._.tag||{_:{inline:true,bnd:a9},tagCtx:{view:ba},flow:true};bd=a7._tgId;if(!bd){H[bd=ac++]=a7;a7._tgId=""+bd}}else{a8="_`";at[bd=ba._.id]=ba}return"#"+bd+a8+(bc!=A?bc:"")+"/"+bd+a8}function ax(bc,a7,bd){var be,bb,bg,bh=bc.tag,a9=bc.convertBack,a8=[],ba=bc._bndId||""+ac++,bf=bc._hdlr;delete bc._bndId;if(bh){a8=bh.depends||a8;a8=c(a8)?bh.depends(bh):a8;bg=bh.linkedElem}if(!bc._depends||(""+bc._depends!==""+a8)){if(bc._depends){Z._apply(false,[a7],bc._depends,bf,true)}be=Z._apply(false,[a7],bc.fn.paths,a8,bf,bc._ctxCb);be.elem=bd;be.linkCtx=bc;be._tgId=ba;bd._jsvBnd=bd._jsvBnd||"";bd._jsvBnd+="&"+ba;bc._depends=a8;bc.view._.bnds[ba]=ba;H[ba]=be;if(bg){be.to=[[],a9]}if(bg||a9!==A){a(be,bh&&bh.convertBack||a9)}if(bh){if(bh.onAfterBind){bh.onAfterBind(be)}if(!bh.flow&&!bh._.inline){bd.setAttribute(an,(bd.getAttribute(an)||"")+"#"+ba+"^/"+ba+"^");bh._tgId=""+ba}}}if(bg&&bg[0]){if(bh._.radio){bg=bg.children("input[type=radio]")}bb=bg.length;while(bb--){bg[bb]._jsvBnd=bg[bb]._jsvBnd||(bd._jsvBnd+"+");bg[bb]._jsvLnkdEl=bh}}}function h(bd,bc,a9,bb,ba,a8,a7){return J(this,bd,bc,a9,bb,ba,a8,a7)}function J(bp,a7,bl,a8,bb,bc,bi,ba){if(bp&&a7){a7=a7.jquery?a7:aI(a7);if(!aQ){aQ=X.body;aI(aQ).on(W,aD).on("blur","[contenteditable]",function(bs){var br=m.noValidate;m.noValidate=true;aD(bs);m.noValidate=br})}var bn,bm,bf,bk,bg,bo,bh,a9,bq,bd=N,be=a8&&a8.target==="replace",bj=a7.length;while(bj--){bh=a7[bj];if(""+bp===bp){bg=a4(bh);a9=bg.ctx;bg.ctx=a8;ar(bp,bh,bg,bl);bg.ctx=a9}else{bc=bc||a4(bh);if(bp.markup!==A){if(bc.link===false){a8=a8||{};a8.link=bd=false}if(be){bo=bh.parentNode}bf=bp.render(bl,a8,bb,bc,A,bd);if(bo){bi=bh.previousSibling;ba=bh.nextSibling;aI.cleanData([bh],true);bo.removeChild(bh);bh=bo}else{bi=ba=A;aI(bh).empty()}}else{if(bp!==true){break}}if(bh._dfr&&!ba){bk=i(bh._dfr,1,ab);for(bn=0,bm=bk.length;bn<bm;bn++){bg=bk[bn];if((bg=at[bg.id])&&bg.data!==A){bg.parent.removeViews(bg._.key,A,true)}}bh._dfr=""}bc.link(bl,bh,bi,ba,bf,A,a8)}}}return a7}function aX(bx,bk,bq,bz,bA,b4,b5,bC){function bm(ci,cb,b9,ce,cf,b7,cl,cj,ch,b8,cd,cg,ck){var cc,ca="";if(ck){b1=0;return ci}bR=cj||ch||"";ce=ce||b8;b9=b9||cg;if(bS&&!b9&&(ce||bR||b7)){bS=A;bL=bJ.shift()}ce=ce||b9;if(ce){b1=0,bS=A;if(!m.noValidate){if(b9||cg){if(!K[bL]&&!/;svg;|;math;/.test(";"+bJ.join(";")+";")){cc="'<"+bL+".../"}}else{if(K[ce]){cc="'</"+ce}else{if(!bJ.length||ce!==bL){cc="Mismatch: '</"+ce}}}if(cc){L(cc+">' in:\n"+bA)}}br=bP;bL=bJ.shift();bP=aH[bL];b8=b8?("</"+b8+">"):"";if(br){bc+=b6;b6="";if(!bP){ca=b8+aO+"@"+bc+b+(cd||"");bc=a9.shift()}else{bc+="-"}}}if(bP){if(b7){b6+=b7}else{cb=(b8||cg||"")}if(bR){cb+=bR;if(b6){cb+=" "+an+'="'+b6+'"';b6=""}}}else{cb=b7?(cb+ca+cf+aO+b7+b+cl+bR):ca||ci}if(b1&&b7){L(" No {^{ tags within elem markup ("+b1+' ). Use data-link="..."')}if(bR){b1=bR;bJ.unshift(bL);bL=bR.slice(1);if(bJ[0]&&bJ[0]===aS[bL]){az("Parent of <tr> must be <tbody>")}bS=K[bL];if((bP=aH[bL])&&!br){a9.unshift(bc);bc=""}br=bP;if(bc&&bP){bc+="+"}}return cb}function bI(b7,ca){var cf,cg,ce,cb,b8,cc,cd,b9=[];if(b7){if(b7._tkns.charAt(0)==="@"){ca=bT.previousSibling;bT.parentNode.removeChild(bT);bT=A}bs=b7.length;while(bs--){ba=b7[bs];ce=ba.ch;if(cf=ba.path){bV=cf.length-1;while(cg=cf.charAt(bV--)){if(cg==="+"){if(cf.charAt(bV)==="-"){bV--;ca=ca.previousSibling}else{ca=ca.parentNode}}else{ca=ca.lastChild}}}if(ce==="^"){if(bR=H[b8=ba.id]){cd=ca&&(!bT||bT.parentNode!==ca);if(!bT||cd){bR.parentElem=ca}if(ba.elCnt&&cd){ca._dfr=(ba.open?"#":"/")+b8+ce+(ca._dfr||"")}b9.push([cd?null:bT,ba])}}else{if(a7=at[b8=ba.id]){if(!a7.parentElem){a7.parentElem=ca||bT&&bT.parentNode||bk;a7._.onRender=N;a7._.onArrayChange=U;aA(a7)}cb=a7.parentElem;if(ba.open){a7._elCnt=ba.elCnt;if(ca){ca._dfr="#"+b8+ce+(ca._dfr||"")}else{if(!a7._prv){cb._dfr=I(cb._dfr,"#"+b8+ce)}a7._prv=bT}}else{if(ca&&(!bT||bT.parentNode!==ca)){ca._dfr="/"+b8+ce+(ca._dfr||"");a7._nxt=A}else{if(bT){if(!a7._nxt){cb._dfr=I(cb._dfr,"/"+b8+ce)}a7._nxt=bT}}bv=a7.linkCtx;if(cc=a7.ctx&&a7.ctx.onAfterCreate||b0){cc.call(bv,a7)}}}}}bs=b9.length;while(bs--){bZ.push(b9[bs])}}return !b7||b7.elCnt}function be(b7){var b9,b8;if(b7){bs=b7.length;for(bV=0;bV<bs;bV++){ba=b7[bV];if(bW.id){bW.id=bW.id!==ba.id&&bW.id}else{b8=bR=H[ba.id].linkCtx.tag;if(!bR.flow){if(!bj){b9=1;while(b8=b8.parent){b9++}bu=bu||b9}if((bj||b9===bu)&&(!bp||bR.tagName===bp)){bD.push(bR)}}}}}}function bt(){bi=F?bk.querySelectorAll(av):aI(av,bk).get();bU=bi.length;if(bq&&bq.innerHTML){bl=F?bq.querySelectorAll(av):aI(av,bq).get();bq=bl.length?bl[bl.length-1]:bq}bu=0;for(bX=0;bX<bU;bX++){bT=bi[bX];if(bq&&!bd){bd=(bT===bq)}else{if(bz&&bT===bz){break}else{if(bT.parentNode&&bO(i(bT,A,bD&&af))&&!bW&&bT.getAttribute(aj)){bZ.push([bT])}}}}al(bq,bP);al(bz,bP);if(bW){bB&&bB.resolve();return}if(bP&&bc+b6){bT=bz;if(bc){if(bz){bI(i(bc+"+",1),bz)}else{bI(i(bc,1),bk)}}bI(i(b6,1),bk);if(bz){bF=bz.getAttribute(an);if(bU=bF.indexOf(bE)+1){bF=bF.slice(bU+bE.length-1)}bz.setAttribute(an,b6+bF)}}bU=bZ.length;for(bX=0;bX<bU;bX++){bT=bZ[bX];b3=bT[1];bT=bT[0];if(b3){if(bR=H[b3.id]){if(bv=bR.linkCtx){bR=bv.tag;bR.linkCtx=bv}if(b3.open){if(bT){bR.parentElem=bT.parentNode;bR._prv=bT}bR._elCnt=b3.elCnt;if(bR&&(!bR.onBeforeLink||bR.onBeforeLink()!==false)&&!bR._.bound){bR._.bound=true;a7=bR.tagCtx.view;ar(A,bR._prv,a7,bx,b3.id)}bR._.linking=true}else{bR._nxt=bT;if(bR._.linking){bK=bR.tagCtx;a7=bK.view;bR.contents=a2;bR.nodes=C;bR.childTags=aU;bR.update=s;bR.refresh=aF;delete bR._.linking;if(!bR._.bound){bR._.bound=true;ar(A,bR._prv,a7,bx,b3.id)}aJ(bR,bK)}}}}else{a7=a4(bT);ar(bT.getAttribute(aj),bT,a7,bx,A,b5)}}bB&&bB.resolve()}var b1,bv,bR,bX,bU,bV,bs,bi,bT,a7,bH,ba,b3,bl,bo,bQ,b2,bG,bD,bj,bp,bK,bN,bu,bW,bg,a8,bb,bM,bL,bS,bw,bY,bF,bP,br,bf,b6,bE,bd,bB,by,bh=this,bn=bh._.id+"_",bc="",bZ=[],bJ=[],a9=[],b0=bh.hlp(aK),bO=bI;if(b4){bB=b4.lazyLink&&aI.Deferred();if(b4.tmpl){bQ="/"+b4._.id+"_"}else{bW=b4.get;if(b4.tag){bn=b4.tag+"^";b4=true}}b4=b4===true}if(bW){bO=be;bD=bW.tags;bj=bW.deep;bp=bW.name}bk=bk?(""+bk===bk?aI(bk)[0]:bk.jquery?bk[0]:bk):(bh.parentElem||X.body);bL=bk.tagName.toLowerCase();bP=!!aH[bL];bq=bq&&t(bq,bP);bz=bz&&t(bz,bP)||null;if(bA!=A){bY=X.createElement("div");bw=bY;bE=b6="";bf=bk.namespaceURI==="http://www.w3.org/2000/svg"?"svg_ns":(bM=G.exec(bA))&&bM[1]||"";if(M&&bM&&bM[2]){az("Unsupported: "+bM[2])}if(bP){bG=bz;while(bG&&!(b2=i(bG))){bG=bG.nextSibling}if(bF=b2?b2._tkns:bk._dfr){bo=bQ||"";if(b4||!bQ){bo+="#"+bn}bV=bF.indexOf(bo);if(bV+1){bV+=bo.length;bE=b6=bF.slice(0,bV);bF=bF.slice(bV);if(b2){bG.setAttribute(an,bF)}else{bk._dfr=bF}}}}bS=A;bA=(""+bA).replace(ae,bm);if(!m.noValidate&&bJ.length){L("Mismatched '<"+bL+"...>' in:\n"+bA)}if(bC){return}O.appendChild(bY);bf=Y[bf]||Y.div;bg=bf[0];bw.innerHTML=bf[1]+bA+bf[2];while(bg--){bw=bw.lastChild}O.removeChild(bY);a8=X.createDocumentFragment();while(bb=bw.firstChild){a8.appendChild(bb)}bk.insertBefore(a8,bz)}if(bB){setTimeout(bt,0)}else{bt()}return bB&&bB.promise()}function ar(a9,a8,bg,bd,bh,a7){var bk,bi,bf,be,ba,bm,bl,bc,bb,bn,bj;bd=bg.data===A?bd||{}:bg.data;if(bh){bn=H[bh];bn=bn.linkCtx?bn.linkCtx.tag:bn;bb=bn.linkCtx||{data:bd,elem:bn._elCnt?bn.parentElem:a8,view:bg,ctx:bg.ctx,attr:aE,fn:bn._.bnd,tag:bn,_bndId:bh};au(bb,bb.fn)}else{if(a9&&a8){bk=bg.tmpl;a9=aP(a9,aw(a8));d.lastIndex=0;while(bi=d.exec(a9)){bj=d.lastIndex;bf=bh?aE:bi[1];bl=bi[3];ba=bi[10];be=A;bb={data:bd,elem:bn&&bn._elCnt?bn.parentElem:a8,view:bg,ctx:a7||bg.ctx,attr:bf,_initVal:!bi[2]};if(bi[6]){if(!bf&&(be=/:([\w$]*)$/.exec(ba))){be=be[1];if(be!==A){bm=-be.length-1;bl=bl.slice(0,bm-1)+T;ba=ba.slice(0,bm)}}if(be===null){be=A}bb.convert=bi[5]||""}bb.expr=bf+bl;bc=bk.links[bl];if(!bc){bk.links[bl]=bc=R.tmplFn(bl,bk,true,be)}bb.fn=bc;if(!bf&&be!==A){bb.convertBack=be}au(bb,bc);d.lastIndex=bj}}}}function au(a7,a8){function a9(bb,ba){ay.call(a7,bb,ba,a8)}a9.noArray=true;a7._ctxCb=am(a7.view);a7._hdlr=a9;a9(true)}function I(a9,a8){var a7;return a9?(a7=a9.indexOf(a8),(a7+1?a9.slice(0,a7)+a9.slice(a7+a8.length):a9)):""}function aq(a7){return a7&&(""+a7===a7?a7:a7.tagName==="SCRIPT"?a7.type.slice(3):a7.nodeType===1&&a7.getAttribute(an)||"")}function i(a9,a8,bd){function a7(bh,be,bi,bj,bg,bf){bc.push({elCnt:ba,id:bj,ch:bg,open:be,close:bi,path:bf,token:bh})}var ba,bb,bc=[];if(bb=a8?a9:aq(a9)){bc.elCnt=!a9.type;ba=bb.charAt(0)==="@"||!a9.type;bc._tkns=bb;bb.replace(bd||aa,a7);return bc}}function al(a7,a8){if(a7){if(a7.type==="jsv"){a7.parentNode.removeChild(a7)}else{if(a8&&a7.getAttribute(aj)===""){a7.removeAttribute(aj)}}}}function t(a8,a9){var a7=a8;while(a9&&a7&&a7.nodeType!==1){a7=a7.previousSibling}if(a7){if(a7.nodeType!==1){a7=X.createElement("SCRIPT");a7.type="jsv";a8.parentNode.insertBefore(a7,a8)}else{if(!aq(a7)&&!a7.getAttribute(aj)){a7.setAttribute(aj,"")}}}return a7}function aP(a7,a8){a7=aI.trim(a7).replace(a1,"\\$&");return a7.slice(-1)!==T?a7=aB+":"+a7+(a8?":":"")+T:a7}function a2(a8,a7){if(a8!==!!a8){a7=a8;a8=A}var ba,a9=aI(this.nodes());if(a9[0]){ba=a7?a9.filter(a7):a9;a9=a8&&a7?ba.add(a9.find(a7)):ba}return a9}function C(bc,a8,a7){var bb,ba=this,bd=ba._elCnt,be=!a8&&bd,a9=[];a8=a8||ba._prv;a7=a7||ba._nxt;bb=be?(a8===ba._nxt?ba.parentElem.lastSibling:a8):(ba._.inline===false?a8||ba.linkCtx.elem.firstChild:a8&&a8.nextSibling);while(bb&&(!a7||bb!==a7)){if(bc||bd||bb.tagName!=="SCRIPT"){a9.push(bb)}bb=bb.nextSibling}return a9}function aU(a9,bc){if(a9!==!!a9){bc=a9;a9=A}var ba=this,a8=ba.link?ba:ba.tagCtx.view,a7=ba._prv,bd=ba._elCnt,bb=[];if(a7){a8.link(A,ba.parentElem,bd?a7.previousSibling:a7,ba._nxt,A,{get:{tags:bb,deep:a9,name:bc,id:bd&&ba._tgId}})}return bb}function aJ(bk,ba){var be,bj,a9,bf,a8,a7,bh,bd,bb,bg,bi=ba.view,bc=bk.linkCtx=bk.linkCtx||{tag:bk,data:bi.data,view:bi,ctx:bi.ctx};if(bk.onAfterLink){bk.onAfterLink(ba,bc)}bj=bk.targetTag?bk.targetTag.linkedElem:bk.linkedElem;if(bj&&(a9=bj[0])){if(bf=bk._.radio){bj=bj.children("input[type=radio]")}if(bf||!bk._.chging){a8=R.cvt(bk,bk.convert)[0];if(bf||a9!==bc.elem){bb=bj.length;while(bb--){a9=bj[bb];bg=a9._jsvLnkdEl;if(bk._.inline&&(!bg||bg!==bk&&bg.targetTag!==bk)){a9._jsvLnkdEl=bk;a7=bc.elem?bc.elem._jsvBnd:bk._prv._jsvBnd;a9._jsvBnd=a7+"+";a7=a7.slice(1).split("&");bd=a7.length;while(bd--){a(H[a7[bd]],bk.convertBack)}}if(bf){a9[o]=a8===a9.value}}bc._val=a8}if(!bf&&a9.value!==A&&a8!==A){if(a9.type===n){a9[o]=a8&&a8!=="false"}else{bj.val(a8)}}}}}function a(bb,a9){var be,a8,bc,bd,ba,bg=bb.linkCtx,a7=bg.data,bf=bg.fn.paths;if(bb){if(be=bf._jsvto){bf=be}a8=bf.length;while(a8&&""+(bd=bf[--a8])!==bd){}if(bd&&(!bg.tag||bg.tag.tagCtx.args.length)){bd=bd.split("^").join(".");bb.to=bd.charAt(0)==="."?[[ba=bf[a8-1],bd.slice(1)],a9]:[bg._ctxCb(bc=a8?bf[0].split("^").join("."):bd)||[a7,bc],a9];if(be&&ba){bb.to[0][0]=bg._ctxCb(ba,a7)}}else{bb.to=[[],a9]}}}function a0(a7,be){var bb,bc,a9=a7.tagCtx.view,ba=a7.tagCtxs||[a7.tagCtx],a8=ba.length,bd=!be;be=be||a7._.bnd.call(a9.tmpl,a9.data,a9,g);while(a8--){bb=ba[a8];bc=be[a8];aI.observable(bb.props).setProperty(bc.props);p(bb.ctx,bc.ctx);bb.args=bc.args;if(bd){bb.tmpl=bc.tmpl}}return ba}function aF(bb){var bc,a9,a8=this,a7=a8.linkCtx,ba=a8.tagCtx.view;if(a8.disposed){az("Removed tag")}if(bb===A){bb=g._tag(a8,ba,ba.tmpl,a0(a8),true)}if(bb+""===bb){a9=a8._.inline?aE:(a7.attr||aw(a8.parentElem,true));bc=ad(bb,a7,a9,a8)}aJ(a8,a8.tagCtx);return bc||a8}function ap(a7){var be,bd,bc,bb,a8,ba,a9,bh=[],bg=a7.length,bf=bg;while(bf--){bh.push(a7[bf])}bf=bg;while(bf--){bb=bh[bf];if(bb.parentNode){if(a9=bb._jsvBnd){a9=a9.slice(1).split("&");bb._jsvBnd="";bd=a9.length;while(bd--){ai(a9[bd],bb._jsvLnkdEl,bb)}}q(aq(bb)+(bb._dfr||""))}}}function ai(bb,bh,ba){var a9,be,bi,bd,a7,bg,bc,a8,bf=H[bb];if(bh){if(ba===bh.linkedElem[0]){delete ba._jsvLnkdEl;delete bh.linkedElem}}else{if(bf){for(a9 in bf.bnd){bd=bf.bnd[a9];a7=".obs"+bf.cbId;if(aI.isArray(bd)){aI([bd]).off(ah+a7).off(u+a7)}else{aI(bd).off(u+a7)}delete bf.bnd[a9]}if(be=bf.linkCtx){if(bi=be.tag){if(bg=bi.tagCtxs){bc=bg.length;while(bc--){if(a8=bg[bc].map){a8.unmap()}}}if(bi.onDispose){bi.onDispose()}if(!bi._elCnt){bi._prv&&bi._prv.parentNode.removeChild(bi._prv);bi._nxt&&bi._nxt.parentNode.removeChild(bi._nxt)}bi.disposed=true}delete be.view._.bnds[bb]}delete H[bb];delete R._cbBnds[bf.cbId]}}}function r(a7,a8){if(a7===A){if(aQ){aI(aQ).off(W,aD);aQ=A}a7=true;V.removeViews();ap(X.body.getElementsByTagName("*"))}else{if(a8){a8=a8.jquery?a8:aI(a8);if(a7===true){a8.each(function(){var a9;while((a9=a4(this,true))&&a9.parent){a9.parent.removeViews(a9._.key,A,true)}ap(this.getElementsByTagName("*"))})}}}return a8}function e(a8,a7){return r(this,a8,a7)}function am(a7){a7=a7||aI.view();return function(bc,ba){var bb,a8,a9=[ba];if(a7&&bc){if(bc._jsvOb){return bc._jsvOb.call(a7.tmpl,ba,a7,g)}if(bc.charAt(0)==="~"){if(bc.slice(0,4)==="~tag"){a8=a7.ctx;if(bc.charAt(4)==="."){bb=bc.slice(5).split(".");a8=a8.tag}if(bb){return a8?[a8,bb.join("."),ba]:[]}}bc=bc.slice(1).split(".");if(ba=a7.hlp(bc.shift())){if(bc.length){a9.unshift(bc.join("."))}a9.unshift(ba)}return ba?a9:[]}if(bc.charAt(0)==="#"){return bc==="#data"?[]:[a7,bc.replace(aM,""),ba]}}}}function z(a7){return a7.type===n?a7[o]:a7.value}R.onStoreItem=function(a7,a8,a9){if(a9&&a7===k){a9.link=h;a9.unlink=e;if(a8){aI.link[a8]=function(){return h.apply(a9,arguments)};aI.unlink[a8]=function(){return e.apply(a9,arguments)}}}};(m.delimiters=function(){var a7=ak.apply(g,arguments);aC=a7[0];aB=a7[1];T=a7[2];S=a7[3];aG=a7[4];d=new RegExp("(?:^|\\s*)([\\w-]*)(\\"+aG+")?(\\"+aB+R.rTag+"\\"+T+")","g");return this})();R.viewInfos=i;function aY(ba,bd,bg,bb,a7,bh){var bf,bc,a9,be,bl,bj,bi,bk=0,a8=ba===bd;if(ba){a9=i(ba)||[];for(bf=0,bc=a9.length;bf<bc;bf++){be=a9[bf];bj=be.id;if(bj===bb&&be.ch===a7){if(bh){bc=0}else{break}}if(!a8){bl=be.ch==="_"?at[bj]:H[bj].linkCtx.tag;if(be.open){bl._prv=bd}else{if(be.close){bl._nxt=bd}}}bk+=bj.length+2}if(bk){ba.setAttribute(an,ba.getAttribute(an).slice(bk))}bi=bd?bd.getAttribute(an):bg._dfr;if(bc=bi.indexOf("/"+bb+a7)+1){bi=a9._tkns.slice(0,bk)+bi.slice(bc+(bh?-1:bb.length+1))}if(bi){if(bd){bd.setAttribute(an,bi)}else{bg._dfr=bi}}}else{bg._dfr=I(bg._dfr,"#"+bb+a7);if(!bh&&!bd){bg._dfr=I(bg._dfr,"/"+bb+a7)}}}function q(bb){var a9,a8,ba,a7;if(a7=i(bb,1,aL)){for(a9=0,a8=a7.length;a9<a8;a9++){ba=a7[a9];if(ba.ch==="_"){if((ba=at[ba.id])&&ba.data!==A){ba.parent.removeViews(ba._.key,A,true)}}else{ai(ba.id)}}}}p(R.View.prototype,{addViews:function(bd,bc,bb){var be,ba,a9=this,a7=bc.length,a8=a9.views;if(!a9._.useKey&&a7&&(bb=a9.tmpl)){ba=a8.length+a7;if(j(a9,bd,bb,a8,bc,a9.ctx)!==false){for(be=bd+a7;be<ba;be++){Z(a8[be]).setProperty("index",be)}}}return a9},removeViews:function(a9,bg,a7){function bb(bm){var bi,bj,bl,bh,bk,bp,bo=bd[bm];if(bo&&bo.link){bi=bo._.id;if(!a7){bp=bo.nodes()}bo.removeViews(A,A,true);bo.data=A;bh=bo._prv;bk=bo._nxt;bl=bo.parentElem;if(!a7){if(bo._elCnt){aY(bh,bk,bl,bi,"_")}aI(bp).remove()}if(!bo._elCnt){try{bh.parentNode.removeChild(bh);bk.parentNode.removeChild(bk)}catch(bn){}}aA(bo);for(bj in bo._.bnds){ai(bj)}delete at[bi]}}var ba,bc,be,bf=this,a8=!bf._.useKey,bd=bf.views;if(a8){be=bd.length}if(a9===A){if(a8){ba=be;while(ba--){bb(ba)}bf.views=[]}else{for(bc in bd){bb(bc)}bf.views={}}}else{if(bg===A){if(a8){bg=1}else{bb(a9);delete bd[a9]}}if(a8&&bg){ba=a9+bg;while(ba-->a9){bb(ba)}bd.splice(a9,bg);if(be=bd.length){while(a9<be){Z(bd[a9]).setProperty("index",a9++)}}}}return this},refresh:function(a8){var a7=this,a9=a7.parent;if(a9){j(a7,a7.index,a7.tmpl,a9.views,a7.data,a8,true);aA(a7)}return a7},nodes:C,contents:a2,childTags:aU,link:aX});V=new R.View(A,"top");at={0:V};aV.merge=function(ba){var a8,a9=this.linkCtx._val||"",a7=this.tagCtx.props.toggle;if(a7){a8=a7.replace(/[\\^$.|?*+()[{]/g,"\\$&");a8="(\\s(?="+a8+"$)|(\\s)|^)("+a8+"(\\s|$))";a9=a9.replace(new RegExp(a8),"$2");ba=a9+(ba?(a9&&" ")+a7:"")}return ba};g.tags("on",{attr:"none",onAfterLink:function(a8,bb){var bg=this,a7=aI(bb.elem),bd=a8.args,ba=a8.props.data,be=a8.view,bf=bd.pop(),a9=bd[1]||null,bc=a8.props.context;ba=ba!==A?ba:null;if(!bc){bc=/^(.*)[\.^][\w$]+$/.exec(a8.params.args.slice(-1)[0]);bc=bc&&R.tmplFn("{:"+bc[1]+"}",be.tmpl,true)(bb.data,be)}if(bf&&bf.call){a7.on(bd[0]||"click",a9,ba,function(bh){bf.call(bc||bb.data,bh,{change:bh.type,view:be,linkCtx:bb})})}},flow:true});p(g.tags["for"],{onArrayChange:function(ba,a8){var a9,a7=this,bb=a8.change;if(a7.tagCtxs[1]&&(bb==="insert"&&ba.target.length===a8.items.length||bb==="remove"&&!ba.target.length||bb==="refresh"&&!a8.oldItems.length!==!ba.target.length)){a7.refresh()}else{for(a9 in a7._.arrVws){a9=a7._.arrVws[a9];if(a9.data===ba.target){a9._.onArrayChange.apply(a9,arguments)}}}ba.done=true},onAfterLink:function(){var bd,a9,a8,a7,bc,bf=this,bg=bf._ars||{},be=bf.tagCtxs,ba=be.length,bb=bf.selected||0;for(bd=0;bd<=bb;bd++){a9=be[bd];bc=a9.map?a9.map.tgt:a9.args.length?a9.args[0]:a9.view.data;if((a7=bg[bd])&&bc!==a7[0]){a3(a7[0],a7[1],true);delete bg[bd]}if(!bg[bd]&&aI.isArray(bc)){a3(bc,a8=function(bi,bh){bf.onArrayChange(bi,bh)});bg[bd]=[bc,a8]}}for(bd=bb+1;bd<ba;bd++){if(a7=bg[bd]){a3(a7[0],a7[1],true);delete bg[bd]}}bf._ars=bg},onDispose:function(){var a7,a8=this;for(a7 in a8._ars){a3(a8._ars[a7][0],a8._ars[a7][1],true)}}});function aZ(ba,bb,a9,a8){switch(a8.change){case"set":var a7=bb.length;while(a7--){if(bb[a7].key===a8.path){break}}if(a7===-1){if(a8.path){aI.observable(bb).insert({key:a8.path,prop:a8.value})}}else{if(a8.remove){aI.observable(bb).remove(a7)}else{aI.observable(bb[a7]).setProperty("prop",a8.value)}}}}function ag(ba,bb,a9,a7){var a8;switch(a7.change){case"set":if(a7.path==="prop"){aI.observable(ba).setProperty(a9.target.key,a7.value)}else{aI.observable(ba).setProperty(a7.oldValue,null);delete ba[a7.oldValue];aI.observable(ba).setProperty(a7.value,a9.target.prop)}break;case"remove":a8=a7.items[0];aI.observable(ba).removeProperty(a8.key);delete ba[a8.key];break;case"insert":a8=a7.items[0];if(a8.key){aI.observable(ba).setProperty(a8.key,a8.prop)}break}}function a5(a8,a7,a9){return(a9.indexOf(".")<0)&&a7[a8]}g.tags({props:aI.extend({},g.tags["for"],R.DataMap(g.tags.props.getTgt,aZ,ag,A,a5))});p(aI,{view:g.view=a4=function(bb,bj,bh){if(bj!==!!bj){bh=bj;bj=A}var bi,a9,bf,be,bd,bc,ba,a8,a7=0,bg=X.body;if(bb&&bb!==bg&&V._.useKey>1){bb=""+bb===bb?aI(bb)[0]:bb.jquery?bb[0]:bb;if(bb){if(bj){a8=F?bb.querySelectorAll(P):aI(P,bb).get();bc=a8.length;for(bf=0;bf<bc;bf++){ba=a8[bf];a9=i(ba,A,ab);for(be=0,bd=a9.length;be<bd;be++){bi=a9[be];if(bi=at[bi.id]){bi=bi&&bh?bi.get(true,bh):bi;if(bi){return bi}}}}}else{while(bb){if(a9=i(bb,A,a6)){bc=a9.length;while(bc--){bi=a9[bc];if(bi.open){if(a7<1){bi=at[bi.id];return bi&&bh?bi.get(bh):bi||V}a7--}else{a7++}}}bb=bb.previousSibling||bb.parentNode}}}}return bj?A:V},link:g.link=J,unlink:g.unlink=r,cleanData:function(a7){if(a7.length&&l){ap(a7)}ao.apply(aI,arguments)}});g.utility={validate:function(a7){try{V.link(A,X.createElement("div"),A,A,a7,A,A,1)}catch(a8){return a8.message}}};p(aI.fn,{link:function(bb,bd,a9,bc,ba,a8,a7){return J(bb,this,bd,a9,bc,ba,a8,a7)},unlink:function(a7){return r(a7,this)},view:function(a7){return a4(this[0],a7)}});aI.each([aE,"replaceWith","empty","remove"],function(a9,a7){var a8=aI.fn[a7];aI.fn[a7]=function(){var ba;l=1;try{ba=a8.apply(this,arguments)}finally{l=0}return ba}});p(V,{tmpl:{links:{},tags:{}}});V._.onRender=N;m({wrapMap:Y={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],svg_ns:[1,"<svg>","</svg>"],div:jQuery.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},linkAttr:aj="data-link",merge:{input:{from:z,to:"value"},textarea:Q,select:Q,optgroup:{to:"label"}},jsrDbgMode:m.debugMode,debugMode:function(a7){m.jsrDbgMode(a7);if(a7){x._jsv={views:at,bindings:H}}else{delete x._jsv}},jsv:function(){m.debugMode(m._dbgMode);aj=m.linkAttr;az=g._err;av=P+",["+aj+"]";M=m.noDomLevel0;Y.optgroup=Y.option;Y.tbody=Y.tfoot=Y.colgroup=Y.caption=Y.thead;Y.th=Y.td}})})(this,this.jQuery);
